import{w}from"./__vite-browser-external-iJXIPR-c.js";import{u as x,r as j,a as S,j as s,L as u,s as b,z as r}from"./entry.client-ClPR750A.js";import{u as v}from"./auth-Dz7jF5hO.js";import{B as y}from"./button-Bhb5Hckh.js";import{M as N,F as g}from"./form-input-D4YyF-Zd.js";import"./db-BhWp2XQG.js";const E=r.object({email:r.string().email("Please enter a valid email address").min(1,"Email is required"),password:r.string().min(1,"Password is required")});function I(){var l,m;const a=x(),{login:p}=v(),[i,o]=j.useState(!1),{register:n,handleSubmit:h,formState:{errors:e},setError:t}=S({resolver:b(E),mode:"onBlur"}),f=async c=>{try{o(!0),await p(c.email,c.password),a("/")}catch(d){d instanceof Error?t("root",{message:d.message}):t("root",{message:"An error occurred while signing in"})}finally{o(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs("header",{className:"sign-in-header",children:[s.jsx("h1",{className:"title",children:"Welcome back"}),s.jsxs("p",{className:"sign-in-subtitle",children:["Don't have an account?"," ",s.jsx(u,{to:"/sign-up",className:"login-link",children:"Sign up"})]})]}),s.jsxs("form",{className:"sign-in-form",onSubmit:h(f),noValidate:!0,children:[e.root&&s.jsx(N,{variant:"error",children:e.root.message}),s.jsx(g,{label:"Email",type:"email",id:"email",error:(l=e.email)==null?void 0:l.message,autoComplete:"email",...n("email")}),s.jsx("div",{className:"password-field",children:s.jsx(g,{label:"Password",type:"password",id:"password",error:(m=e.password)==null?void 0:m.message,showPassword:!0,autoComplete:"current-password",...n("password")})}),s.jsx("div",{className:"links-group",children:s.jsx(u,{to:"/forgot-password",className:"login-link",children:"Forgot password?"})}),s.jsx(y,{type:"submit",variant:"primary",disabled:i,fullWidth:!0,children:i?"Signing in...":"Sign in"})]})]})}function q({}){return[{title:"Sign in to your account"},{name:"description",content:"Sign in to access your account"}]}const A=w(function(){return s.jsx(I,{})});export{A as default,q as meta};
